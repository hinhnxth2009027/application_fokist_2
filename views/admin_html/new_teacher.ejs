<!DOCTYPE html>
<html lang="en">
<%- include('include/head.ejs') %>
<body class="hold-transition sidebar-mini">
<div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="/admin" class="nav-link">Home</a>
            </li>
        </ul>
    </nav>
    <!-- /.navbar -->
    <!-- Main Sidebar Container -->
    <%- include('include/side_bar.ejs') %>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>Create Teacher</h1>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </section>
        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <!-- left column -->
                    <div class="col-lg-12" style="margin: auto">
                        <!-- general form elements -->
                        <div class="card card-success">
                            <div class="card-header">
                                <h3 class="card-title">New teacher</h3>
                            </div>
                            <!-- /.card-header -->
                            <!-- form start -->
                            <form action="/admin/new_teacher" method="post" name="Create_Event_form" class="border border-success needs-validation">
                                <div class="card-body">
                                    <div class="col-lg-5">
                                        <div class="form-group">
                                            <label for="Title-event">teacher's name</label>
                                            <input type="text" class="form-control" id="Title-event" name="teacher_name"
                                                   placeholder="teacher's name" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 row">
                                        <div class="form-group col-lg-6">
                                            <label>Choose avatar</label>
                                            <div class="input-group">
                                                <div class="custom-file">
                                                    <input type="file" id="imageChooser2" name="imageChooser2" class="custom-file-input">
                                                    <input type="hidden" id="thumbnail" name="avatar" required>
                                                    <label class="custom-file-label">Choose File</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group col-lg-6">
                                            <label for="exp">exp</label>
                                            <select name="exp" class="form-control mb-sm-5" id="exp" required>
                                                <option selected value="1">1 years of teaching</option>
                                                <option value="2">2 years of teaching</option>
                                                <option value="3">3 years of teaching</option>
                                                <option value="4">4 years of teaching</option>
                                                <option value="5">over 5 years</option>
                                                <option value="7">over 7 years</option>
                                                <option value="10">over 10 years</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <img id="image-preview2" style="width: 150px; display: none"
                                             class="img-bordered" src="" alt="">
                                    </div>


                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label for="subject">subject</label>
                                            <select name="subject" class="form-control mb-sm-5" id="subject" required>
                                                <option value="math for children">math for children</option>
                                                <option value="music for children">music for children</option>
                                                <option value="literature for children">literature for children</option>
                                                <option value="science for children">science for children</option>
                                                <option value="art with children">art with children</option>
                                                <option value="đào tạo nhặt trình viên">đào tạo nhặt trình viên quốc tế</option>
                                                <option value="history with children">history with children</option>
                                                <option value="physical education with children">physical education with children</option>
                                                <option value="Geographic with children">Geographic with children</option>
                                                <option value="physical with children">physical with children</option>
                                            </select>
                                        </div>
                                    </div>


                                    <div class="col-lg-2 col-8">
                                        <div class="form-group">
                                            <label for="gemder">gemder</label>
                                            <select name="gender" id="gemder" class="form-control" required>
                                                <option value="male" selected>male</option>
                                                <option value="female">female</option>
                                            </select>
                                        </div>
                                    </div>

                                </div>
                                <!-- /.card-body -->

                                <div class="card-footer">
                                    <button type="submit" name="btn-submit-event" class="btn btn-success"
                                            style="width: 120px">Create
                                    </button>
                                </div>
                            </form>


                        </div>
                    </div><!-- general form elements -->
                </div>
                <!-- /.row -->
            </div><!-- /.container-fluid -->
        </section>
        <!-- /.content -->
    </div>


    <!-- /.content-wrapper -->
    <footer class="main-footer">
        <div class="float-right d-none d-sm-block">
            <b>Version</b> 3.1.0-rc
        </div>
        <strong>Copyright &copy; 2014-2020 <a href="https://adminlte.io">AdminLTE.io</a>.</strong> All rights reserved.
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
        <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
</div>
<!-- jQuery -->
<%- include('include/script.ejs') %>
<script>
    var imgurl2 = document.querySelector('input[name="avatar"]')
    const cloudName2 = 'kee';
    const unsignedUploadPreset2 = 'qvdcslp4';
    var imgNew = document.querySelector('#imageChooser2');
    imgNew.onchange = function () {
        var file1 = this.files[0];
        var url1 = `https://api.cloudinary.com/v1_1/${cloudName2}/upload`
        var xhr1 = new XMLHttpRequest();

        xhr1.onreadystatechange = function () {
            if (this.readyState === 4) {
                if (this.status === 200) {
                    var dataJson = JSON.parse(this.responseText)
                    imgurl2.value = dataJson.url
                    var img_review = document.getElementById('image-preview2');
                    img_review.src = dataJson.url;
                    img_review.style = 'width:200px';
                }
            }
        }
        xhr1.open('POST', url1, true);
        var ud2 = new FormData();
        ud2.append('upload_preset', unsignedUploadPreset2);
        ud2.append('tags', 'browser_upload')
        ud2.append('file', file1)
        xhr1.send(ud2)
    }
</script>

</body>
</html>