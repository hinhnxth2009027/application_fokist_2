<script src="/plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="/plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="/plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="/plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="/plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="/plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="/plugins/moment/moment.min.js"></script>
<script src="/plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="/plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="/dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="/dist/js/pages/dashboard.js"></script>
<!--varlidator-->

<script src="/plugins/validator.js"></script>

<script src="/plugins/jquery-validator.js"></script>


<script>
    $('#summernote').summernote()



    var imgurl = document.querySelector('input[name="thumbnail"]')
    const cloudName = 'kee';
    const unsignedUploadPreset = 'qvdcslp4';
    var img = document.querySelector('input[name="imageChooser"]');
    img.onchange = function () {
        var file = this.files[0];
        var url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (this.readyState === 4) {
                if (this.status === 200) {
                    var dataJson = JSON.parse(this.responseText)

                    imgurl.value = dataJson.url
                    var img_review = document.getElementById('image-preview');
                    img_review.src = dataJson.url;
                    img_review.style = 'width:100%';
                }
            }
        }
        xhr.open('POST', url, true);
        var ud = new FormData();
        ud.append('upload_preset', unsignedUploadPreset);
        ud.append('tags', 'browser_upload')
        ud.append('file', file)
        xhr.send(ud)
    }















    // img.onchange = function () {
    //     var file = this.files[0];
    //     var url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;
    //
    //     var xhr = new XMLHttpRequest();
    //     xhr.onreadystatechange = function () {
    //         if (this.readyState === 4 && this.status === 200) {
    //             var responseDataJson = JSON.parse(this.responseText);
    //             console.log(responseDataJson.url);
    //             var imageUrl = document.querySelector('input[name="thumbnail"]');
    //             imageUrl.value = responseDataJson.url;
    //             const imgPreview = document.getElementById('image-preview');
    //             imgPreview.src = responseDataJson.url;
    //             imgPreview.style = 'width:150px';
    //         }
    //     }
    //     xhr.open('POST', url, true);
    //     var fd = new FormData();
    //     ud.append('upload_preset', unsignedUploadPreset);
    //     ud.append('tags', 'browser_upload');
    //     ud.append('file', file);
    //     xhr.send(fd);
    // }


</script>